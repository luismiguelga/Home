<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./estiloscalculadora.css">
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous"> -->
  <title>Document</title>
</head>

<body>
  <div id="container">
    <h1>Calculadora</h1>
    <input type="text" id="caja">
    <div id="botones"></div>
  </div>
</body>
<script>
  let operando1;
  let operando2;
  let operacion;
  let botones = document.getElementById("botones");
  let numeros = [
    "1",
    "2",
    "3",
    "+",
    "-",
    "4",
    "5",
    "6",
    "*",
    "/",
    "7",
    "8",
    "9",
    "^",
    "√",
    "0",
    ".",
    "c",
    "="
  ];
  for (let i = 0; i <= 18; i++) {
    let boton = document.createElement("button");
    boton.id = "botones" + i;
    boton.textContent = numeros[i];
    botones.appendChild(boton);
  }
  for (let i = 0; i <= 18; i++) {
    document.getElementById("botones" + i).addEventListener("click", function () {
      caja.value = caja.value + numeros[0 + i];
      if (document.getElementById("botones" + i) === document.getElementById("botones3")) {
        operando1 = caja.value;
        operacion = "+";
        limpiar();
      } else if (document.getElementById("botones" + i) === document.getElementById("botones4")) {
        operando1 = caja.value;
        operacion = "-";
        limpiar();
      } else if (document.getElementById("botones" + i) === document.getElementById("botones8")) {
        operando1 = caja.value;
        operacion = "*";
        limpiar();
      }else if (document.getElementById("botones" + i) === document.getElementById("botones9")) {
        operando1 = caja.value;
        operacion = "/";
        limpiar();
      }else if (document.getElementById("botones" + i) === document.getElementById("botones13")) {
        operando1 = caja.value;
        operacion = "^";
        limpiar();
      }else if (document.getElementById("botones" + i) === document.getElementById("botones14")) {
        operando1 = caja.value;
        operacion = "√";
        limpiar();
      }else if(document.getElementById("botones " +i) === document.getElementById("botones16")) {
        caja.value = caja.value + ".";
      }else if(document.getElementById("botones" +i) === document.getElementById("botones17")) {
        reiniciar();
      }else if (document.getElementById("botones" + i) === document.getElementById("botones18")) {
        operando2 = caja.value;
        resolver();
      }
      })
  }
  function limpiar() {
    caja.value = "";
  }
  function reiniciar() {
    caja.value = "";
    operando1 = 0;
    operando2 = 0;
    operacion = "";
  }
  function resolver() {
    let respuesta = 0;
    switch (operacion) {
      case "+":
        respuesta = parseFloat(operando1) + parseFloat(operando2)
        break;
      case "-":
        respuesta = parseFloat(operando1) - parseFloat(operando2)
        break;
      case "*":
        respuesta = parseFloat(operando1) * parseFloat(operando2)
        break;
      case "/":
        respuesta = parseFloat(operando1) / parseFloat(operando2)
        break;
      case "^":
        respuesta = parseFloat(operando1) ** parseFloat(operando2)
        break;
      case "√":
        respuesta = Math.pow(parseFloat(operando1), 1 / parseFloat(operando2))
        break;
    }
    reiniciar();
    caja.value = respuesta;
  }
</script>

</html>